!function(t){t.fn.TrendPostsView=function(){var r=t(this),a={};r.each(function(){var r=t(this).data("id"),e="postID_"+r;a[e]=r}),t.ajax({url:cherryTrendPosts.ajaxurl,type:"post",dataType:"json",data:{action:"cherry_trend_posts_check_views",trend_data:a,nonce:cherryTrendPosts.nonce}}).done(function(a){a.success&&r.each(function(){var r=t(this).data("id");return a.data.hasOwnProperty(r)?void t(this).html(a.data[r]):!0})})},t.fn.TrendPostsRating=function(){var r,a,e=t(this),n="ftype",s=[t(this).first().data("format")],o={},c={};e.each(function(){var r,a,e,c,d=t(this).data("post"),h=t(this).data("format");r=t.inArray(h,s),c=r,-1===r&&(s.push(h),c=Object.keys(s).length,c--),e=n+c,e in o?(a=o[e],a.push(d),o[e]=a):o[n+c]=[d]});for(a=0;a<s.length;a++)r=n+a,c[r]=s[a];t.ajax({url:cherryTrendPosts.ajaxurl,type:"post",dataType:"json",data:{action:"cherry_trend_posts_check_rating",trend_format:c,trend_data:o,nonce:cherryTrendPosts.nonce}}).done(function(r){console.log(r),r.success&&e.each(function(){var a,e,n=t(this).data("post"),s=t(this).data("format");for(e in c)s===c[e]&&(a=e);return r.data.hasOwnProperty(a)&&r.data[a].hasOwnProperty(n)?void t(this).parent().html(r.data[a][n]):!0})})}}(jQuery),jQuery(document).ready(function(t){t(document).on("click",".cherry-trend-stars__item",function(r){var a=t(this),e=a.parent(),n=a.data("rate"),s=e.data("post"),o=e.data("format");return r.preventDefault(),e.hasClass("cherry-trend-stars--processing")||e.hasClass("cherry-trend-stars--rate-disabled")?!1:(e.addClass("cherry-trend-stars--processing"),void t.ajax({url:cherryTrendPosts.ajaxurl,type:"post",dataType:"html",data:{action:"cherry_trend_posts_handle_rating",rate:n,post:s,format:o,nonce:cherryTrendPosts.nonce}}).done(function(t){e.removeClass("cherry-trend-stars--processing"),e.parent().html(t)}))}),t(".cherry-trend-views__count").length>0&&0!==parseInt(cherryTrendPosts.cache)&&t(".cherry-trend-views__count").TrendPostsView(),t(".cherry-trend-rating__stars").length>0&&0!==parseInt(cherryTrendPosts.cache)&&(console.log("adadad"),t(".cherry-trend-rating__stars").TrendPostsRating())});